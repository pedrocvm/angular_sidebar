!function(e,t){"object"==typeof exports&&"undefined"!=typeof module?t(exports,require("angular"),require("tslib"),require("reflect-metadata")):"function"==typeof define&&define.amd?define(["exports","angular","tslib","reflect-metadata"],t):t((e=e||self)["angular-ts-decorators"]={},e.angular,e.tslib_1)}(this,function(e,t,n){"use strict";class o{constructor(e){return e.nativeElement=e[0],e}}var r;(r=e.Declaration||(e.Declaration={})).Component="Component",r.Directive="Directive",r.Pipe="Pipe";const i={declaration:"custom:declaration",name:"custom:name",bindings:"custom:bindings",require:"custom:require",options:"custom:options",listeners:"custom:listeners",viewChildren:"custom:viewChildren"};function c(e){return e.replace(/(-\w)/g,e=>e[1].toUpperCase())}function s(e){return e.replace(/([a-z])([A-Z])/g,"$1-$2").toLowerCase()}function a(e){return e.substr(1,e.length-2)}function l(e){return/^[\[].*[\]]$/g.test(e)}function u(e,t){return Reflect.getMetadata(e,t)}function f(e,t,n){Reflect.defineMetadata(e,t,n)}function d(e){return u(i.name,e)}function p(e){return u(i.declaration,e)}const m={ngOnInit:"$onInit",ngOnDestroy:"$onDestroy",ngDoCheck:"$doCheck",ngOnChanges:"$onChanges",ngAfterViewInit:"$postLink"};function g(n,r={},i={}){const a=Object.keys(r),l=".HostListener",u=Object.keys(i);class f extends n{constructor(e,...t){super(...t),this.$element=e}_updateViewChildren(){u.forEach(n=>{const r=i[n];let a;if("string"!=typeof r.selector){const t=p(r.selector);if(t!==e.Declaration.Component&&t!==e.Declaration.Directive)return;a=s(d(r.selector))}else a=`#${r.selector}`;const l=Array.prototype.slice.call(this.$element[0].querySelectorAll(a)).map(e=>{const n="string"==typeof r.selector?e.localName:a,i=t.element(e),s=i&&i.controller(c(n));return r.read?new o(i):s||new o(i)}).filter(e=>!!e);l.length?this[n]=r.first?l[0]:l:this[n]=void 0})}$postLink(){super.$postLink&&super.$postLink(),a.forEach(e=>{const{eventName:t}=r[e];this.$element.on(t+l,this[e].bind(this))}),this._updateViewChildren()}$onChanges(e){super.$onChanges&&super.$onChanges(e),this._updateViewChildren()}$onDestroy(){super.$onDestroy&&super.$onDestroy(),a.length&&this.$element.off(l)}}return f.$inject=["$element",...n.$inject||[]],f}function h(e){const n=e.prototype;(function(e){return Object.keys(m).filter(n=>t.isFunction(e[n]))})(n).forEach(e=>{const t=m[e];n[t]=n[e]})}function y(e,t,n,o){const r=e.constructor,c=u(i.bindings,r)||{};c[t]=o||n,f(i.bindings,c,r)}function b(e,t,n,o,r){const c=e.constructor,s=u(i.viewChildren,c)||{};s[t]={first:r,selector:n,read:o},f(i.viewChildren,s,c)}const C=Function;e.Component=function(t){var{selector:o}=t,r=n.__rest(t,["selector"]);return t=>{r.controller=t;const n=l(o),s=u(i.bindings,t);s&&(n?(r.bindToController=s,r.controllerAs=r.controllerAs||"$ctrl"):r.bindings=s);const d=u(i.require,t);d&&(r.require=d),n&&(r.restrict="A"),h(t);const p=n?a(o):o;f(i.name,c(p),t),f(i.declaration,n?e.Declaration.Directive:e.Declaration.Component,t),f(i.options,r,t)}},e.Directive=function(t){var{selector:o}=t,r=n.__rest(t,["selector"]);return t=>{const n=u(i.bindings,t);n&&(r.bindToController=n);const s=u(i.require,t);s&&(r.require=s,r.bindToController||(r.bindToController=!0)),r.restrict=r.restrict||"A";const d=l(o)?a(o):o;f(i.name,c(d),t),f(i.declaration,e.Declaration.Directive,t),f(i.options,r,t)}},e.ElementRef=o,e.HostListener=function(e,t){return(n,o,r)=>{const c=r.value;if("function"!=typeof c)throw new Error(`@HostListener decorator can only be applied to methods not: ${typeof c}`);const s=n.constructor,a=u(i.listeners,s)||{};a[o]={eventName:e,args:t},f(i.listeners,a,s)}},e.Inject=function(e){return(t,n,o)=>{n&&Array.isArray(t[n])?t[n][o]=e:t.$inject&&(t.$inject[o]=e)}},e.Injectable=function(e){return t=>{e&&f(i.name,e,t)}},e.Input=function(e){return(t,n)=>y(t,n,"<?",e)},e.NgModule=function({id:n,bootstrap:o=[],declarations:r=[],imports:c=[],providers:s=[]}){return o=>{const a=c.map(e=>"string"==typeof e?e:e.module.name);n||(n=o.name);const l=t.module(n,a);r.forEach(t=>{switch(u(i.declaration,t)){case e.Declaration.Component:!function(e,t){const n=u(i.name,t),o=u(i.options,t),r=u(i.listeners,o.controller),c=u(i.viewChildren,t);(r||c)&&(o.controller=g(o.controller,r,c)),e.component(n,o)}(l,t);break;case e.Declaration.Directive:!function(e,t){let n;const o=u(i.name,t),r=u(i.options,t);h(t);const c=u(i.listeners,t),s=u(i.viewChildren,t);r.controller=c||s?g(t,c,s):t,n=(()=>r),e.directive(o,n)}(l,t);break;case e.Declaration.Pipe:!function(e,t){const n=u(i.name,t),o=(...e)=>{const n=e[0].instantiate(t);return n.transform.bind(n)};o.$inject=["$injector",...t.$inject||[]],e.filter(n,o)}(l,t)}}),s&&function(e,t){t.forEach(t=>{if(t.provide){const n=t.provide;t.useClass&&t.useClass instanceof Function?e.service(n,t.useClass):t.useFactory&&t.useFactory instanceof Function?(t.useFactory.$inject=t.deps||t.useFactory.$inject,e.factory(n,t.useFactory)):t.useValue&&e.constant(n,t.useValue)}else{const n=u(i.name,t);n&&e.service(n,t)}})}(l,s);const{config:f,run:d}=o;f&&l.config(f),d&&l.run(d),o.module=l}},e.Output=function(e){return(t,n)=>y(t,n,"&",e)},e.Pipe=function(t){return n=>{f(i.name,t.name,n),f(i.declaration,e.Declaration.Pipe,n)}},e.Type=C,e.ViewChild=function(e,t={}){return(n,o)=>b(n,o,e,t.read,!0)},e.ViewChildren=function(e,t={}){return(n,o)=>b(n,o,e,t.read,!1)},e.ViewParent=function(e){return(t,n)=>(function(e,t,n){const o=e.constructor,r=u(i.require,o)||{};r[t]=n,f(i.require,r,o)})(t,n,e)},e.camelToKebab=s,e.defineMetadata=f,e.getAttributeName=a,e.getMetadata=u,e.getTypeDeclaration=p,e.getTypeName=d,e.isAttributeSelector=l,e.isType=function(e){return"function"==typeof e},e.kebabToCamel=c,e.metadataKeys=i,e.ngLifecycleHooksMap=m,e.platformBrowserDynamic=(()=>(class{static bootstrapModule(e,n={strictDi:!1}){let o;switch(typeof e){case"string":o=e;break;case"object":o=e.name;break;case"function":default:const t=e.module;if(!t)throw Error("Argument moduleType should be NgModule class, angular.module object or module name string");o=t.name}const r=!0===n.strictDi;t.element(document).ready(()=>{t.bootstrap(document.body,[o],{strictDi:r})})}})),Object.defineProperty(e,"__esModule",{value:!0})});